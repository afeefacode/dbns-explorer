<template>
    <l-map style="height:50vh">
      <l-geo-json :geojson="geoJson" :options="geoJsonOptions"/>
    </l-map>
<!--  <div id="container">-->
<!--    <div id="mapContainer"></div>-->
<!--  </div>-->
</template>
<script setup>
import "leaflet/dist/leaflet.css"
import {LMap, LGeoJson} from "@vue-leaflet/vue-leaflet";
import {onBeforeMount, onMounted} from 'vue'


const geoJson = {
  "type": "Feature",
  "properties": {"id": 1, "order": "1", "type": "station-poi"},
  "geometry": {
    "type": "MultiPolygon",
    "coordinates": [[[[13.70674761439971, 51.029751594296265], [13.706747128083677, 51.029737477369416], [13.70674488682481, 51.029723428021185], [13.706740904442787, 51.029709532870342], [13.706735205491819, 51.029695877584984], [13.706727825109239, 51.029682546354223], [13.706718808798819, 51.029669621369237], [13.706708212150204, 51.029657182316498], [13.706696100496155, 51.029645305886504], [13.706682548509727, 51.029634065300904], [13.706667639743868, 51.029623529861205], [13.706651466116277, 51.0296137645214], [13.706634127342696, 51.029604829487532], [13.706615730322129, 51.029596779846585], [13.706596388477783, 51.02958966522678], [13.706576221057787, 51.029583529491696], [13.706555352400015, 51.029578410469774], [13.706533911165513, 51.029574339721137], [13.7065120295453, 51.029571342343012], [13.706489842445396, 51.029569436815024], [13.706467486655113, 51.029568634885223], [13.706445100003746, 51.029568941497736], [13.706422820510847, 51.029570354762193], [13.706400785535328, 51.02957286596542], [13.706379130928639, 51.02957645962519], [13.706357990197226, 51.029581113585635], [13.70633749367947, 51.029586799153826], [13.706317767742124, 51.029593481276741], [13.706298934001254, 51.029601118757249], [13.706281108572453, 51.029609664508207], [13.706264401354973, 51.029619065842688], [13.706248915354166, 51.029629264798849], [13.706234746046427, 51.029640198497226], [13.706221980790552, 51.029651799528409], [13.70621069828913, 51.029663996368683], [13.706200968103305, 51.029676713820891], [13.706192850223887, 51.029689873478119], [13.70618639470147, 51.029703394207061], [13.706181641337817, 51.029717192648199], [13.706178619440445, 51.02973118372978], [13.706177347641889, 51.029745281192262], [13.706177833784798, 51.029759398120184], [13.706180074873535, 51.029773447477986], [13.706184057092614, 51.029787342646607], [13.706189755891833, 51.029800997957544], [13.706197136137602, 51.029814329221054], [13.706206152329514, 51.02982725424512], [13.70621674888084, 51.029839693342353], [13.706228860461216, 51.029851569821133], [13.706242412399403, 51.029862810458596], [13.706257321143639, 51.029873345951991], [13.706273494776758, 51.029883111345988], [13.706290833582882, 51.029892046433211], [13.706309230662205, 51.029900096125353], [13.706328572590074, 51.029907210792942], [13.706348740116303, 51.029913346571213], [13.706369608900403, 51.029918465630672], [13.706391050278215, 51.029922536410282], [13.706412932055192, 51.029925533812026], [13.706435119321458, 51.029927439355717], [13.706457475283601, 51.029928241292907], [13.706479862108095, 51.029927934679307], [13.706502141771123, 51.029926521405287], [13.706524176909586, 51.029924010184267], [13.706545831668022, 51.029920416498939], [13.706566972536244, 51.029915762505745], [13.70658746917251, 51.029910076898453], [13.706607195207145, 51.029903394731058], [13.706626029021688, 51.029895757201778], [13.706643854498729, 51.029887211398943], [13.706660561737833, 51.02987781001076], [13.706676047733112, 51.029867611000412], [13.706690217008306, 51.029856677248688], [13.706702982205424, 51.029845076166303], [13.706714264623324, 51.02983287927826], [13.706723994702916, 51.029820161782851], [13.706732112456008, 51.02980700208807], [13.706738567835112, 51.02979348132817], [13.706743321042001, 51.029779682863406], [13.706746342773013, 51.029765691766123], [13.70674761439971, 51.029751594296265]]]]
  }
}

const geoJsonOptions = {}

onBeforeMount(async () => {
  const {circleMarker} = await import("leaflet/dist/leaflet-src.esm");

  // And now the Leaflet circleMarker function can be used by the options:
  geoJsonOptions.pointToLayer = (feature, latLng) =>
    circleMarker(latLng, {radius: 8});
  // this.mapIsReady = true;
})


// import L from "leaflet";

// const center = [37, 7749, -122, 4194]

// const setupLeafletMap = () => {
//   const mapDiv = L.map("mapContainer").setView(this.center, 13);
//   L.tileLayer(
//     "https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",
//     {
//       attribution:
//         'Map data (c) <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',
//       maxZoom: 18,
//       id: "mapbox/streets-v11",
//       accessToken: "XXX",
//     }).addTo(mapDiv);
// }

// onMounted(setupLeafletMap)



</script>
